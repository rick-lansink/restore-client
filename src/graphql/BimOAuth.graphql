query userProjects {
    Project {
        projectId
        dueDate
        name
    }
}

query getOAuthToken($projectId: String!) {
    UserProjectAuth(where: {projectId: {_eq: $projectId}}) {
        oauthCode
    }
}

mutation syncOAuth($poid: String!, $token: String!) {
    insert_UserProjectAuth(objects: {
        Project: {
            data: {projectId: $poid},
            on_conflict: {
                constraint: Project_pkey,
                update_columns: projectId
            }
        },
        oauthCode: $token
    }, on_conflict: {
        constraint: UserProjectAuth_pkey,
        update_columns: oauthCode
    }) {
        affected_rows
    }
}